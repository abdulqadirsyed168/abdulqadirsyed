IT WAS DEVELOPED BY FACEBOOK
IT CAME AS OPEN SOURCE PROJECT UNDER APACHE 3.0 , 3.25
CASSANDRA IS NOT MADE FOR ANALYTICAL QUERIES
WE CAN PERFOME JOIN AND AGGREGATION ETC
IT IS BENFIT FOR FASTER WRITE OPERATION
IT IS BENFIT FOR FASTER READ SERACH OPERATION
CASSANDRA WILL FOLLOW RING KIND OF ARCHITECTURE NOT MASTER SLAVE ARCHITECTURE



* CASSANDRA COMPONENTS
NODE
CLUSTER
READ REQUEST LANDED ON SOME NODE IT BECOME COORDINATER NODE

NODE- WHERE DATA STORE
CLUSTER- COMBINATION OF NODES
DATA CENTERS- LARGE LOCATION OR AREA TO CONTAIN NODES
COORDINATER- HANDLES CURRENT READ WRITE REQUEST
COMMIT&LOG- EVERY WRITE OPERATION IS WRITTEN TO COMMIT LOG, COMMIT LOG IS USED FOR CRASH RECOVERY
MEM TABLE- AFTER DATA WRITTEN IN COMMIT LOG DATA WILL BE WRITTEN IN MEM TABLE. DATA IS WRITTEN FOR TEMPORARY BASES
SS TABLE- WHEN MEM-TABLE REACHES A CERTIAN THERSHOLD DATA IS FLUSHED INTO SS TABLE DISK.

CASSANDRA WILL PLACES REPLICAS OF DATA ON DIFFERENT NODES BASED ON TWO FACTORS

1 WHERE TO PLACE NEXT REPLICA IS DETERMINED BY REPLICATION STRATERGY
2 WHILE THE TOTAL NUMBER OF REPLICAS PLACED ON DIFFERENT NODES IF DETERMINED BY REPLICATION FACTOR

REPLICATION FACTOR = HOW MANY NUMBER OF COPIES WILL BE CREATED THAT IS KNOW AS REPLICATION FACTOR

REPLICATION STRATERGY:
TWO TYPES OF REPLICATION STRATERGY
1 SIMPLE STRATERGY
2 NETWORK TOPOLOGY STRATERGY

1 SIMPLE STRATERGY:
* IT WILL BE USED WHEN WILL HAVE ONLY ONE DATA CENTER.
* FIRST COPY WILL BE CREATED ON THE COORDINATOR NODE AND AFTER THAT REMAIMING COPIES WILL BE CREATED IN OTHER NODES IN CLOCK WISE DIRECTION.

2 NETWORK TOPOLOGY STRATERGY:
* IT WILL BE USED WHEN WILL HAVE MORE THAN ONE DATA CENTER.
* REPLICAS ARE SET FOR EACH DATA CENTRE SEPARATELY.
* NETWORK TOPOLOGY PLACES REPLICAS IN CLOCKWISE DIRECTION IN THE RING UNTIL IT REACHES THE FIRST NODE IN ANOTHER DATA CENTER.


* CONCEPTS OF KEYS IN CASSANDRA:
1 PRIMARY KEY
2 PARTITION KEY
3 COMPOSITE PARTITION KEY
4 CLUSTERING KEY

1 PRIMARY KEY:
IT CONSISTS OF ONE OR MORE PARTITION KEY AND ZERO OR MORE CLUSTERING KEY
EX: PRIMARY KEY((COLUMN1) ,COLUMN2,COLUMN3)
EX: PRIMARY KEY((COLUMN1,COLUMN4) ,COLUMN2,COLUMN3)
COLUMN 1,4 - PARTITION KEY
COLUMN 2,3 - CLUSTERING KEY

2 PARTITION KEY:
IT WILL GENERATE SOME HASH VALUE BY THAT VALUE IT WILL CHOOSE PARTICULAR NODE.
A PARTITON KEY IS FOR DATA PLACEMENT A PART FROM UNIQUELY IDENTIFY A RECORD
PARTITON KEY WILL DECIDE ON WHICH DATA NODE DATA WILL BE STORED.
EX:PRIMARY KEY(COLUMN1)

3 COMPOSITE PARTITION KEY:
IT WILL NEED TO COMBINE MORE THAN ONE COLUMN FOR A SINGLE PARTITON KEY THEN IT WILL BE KNOW AS COMPOSITE PARTITION KEY
EX: PRIMARY KEY ((COLUMN1,COLUMN2))

4 CLUSTERING KEY :
THE COLUMNS WHICH WILL BE USED TO ORDER THE DATA INSIDE A PARTITION 
EX: PRIMARY KEY ((COLUMN1,COLUMN2),COLUMN3,COLUMN4)
EX: PRIMARY KEY ((COLUMN1,COLUMN2,COLUMN3,COLUMN4)
IN THIS EXAMPLE COLUMN1 WILL BE TREATED AS PARTITION KEY AND REMAINING KEYS WOULD BE CLUSTERING KEY

Q. WHY WE USE CLUSTERING AND IT IS HELPFULL FOR?
Ans. SO FOR SEARCH OR FILTER RELATED QUERIES IT CAN BE OPTIMIZED.

IN CASE NEED TO CHANGE ORDERING OF CLUSTERING KEY
EX: ( PRIMARY KEY ((COLUMN1,COLUMN2),COLUMN3,COLUMN4)
      WITH CLUSTERING ORDER BY COLUMN3 ASC,COLUMN4 DESC )


Q HOW DATA IS PARTITIONED IN CASSANDRA?

TOKEN- A HASH VALUE GENERATED FOR A GIVEN PARTITION KEY
TOKEN RANGE - EACH NODE IN CASSANDRA WILL BE GIVEN RANGE OF TOKEN VALUES 

TOKEN = PARTIITON KEY % TOTAL NUMBER OF TOKENS
TOKEN = 210 % 100 = 10
PARTIITON KEY ID = 210

*** CASSANDRA FOLLOWS MUR MUR3 HASH ALGORITHM TO GENERATE TOKENS ***

TOKEN RANGE IN CASSANDRA BETWEEN -2^63 TO +(2^63 - 1) I.E -10259642382 TO 10259642301

*COLLISION : IF SAME HASH VALUE GOT GENERATED FOR DIFFERENT VALUES AND MAINTAINING THE LEVEL FOR DIFFERENT KIND OF DATA

* CONSISTENCY LEVELS IN CASSANDRA :
                                    BASED ON CAP THEOREM CASSANDRA LIES IN AP- AVAILABILITY,PARTITITON TOLERANCE
                                    
Q WHAT HAPPEN FOR CONSISTENCY ?
Ans IF CONSISTENCY WILL NOT MAINTAIN THE WRITE OPERATION WILL BE FAIL.
    IF CONSISTENCY WILL NOT MAINTAIN THE READ OPERATION WILL BE FAIL.
    
    
Q WHAT WILL BE THE IMPACT IF WE APPLY CONSISTENCY IN CASSANDRA?
Ans SPEED OR PERFORMANCE WILL BE LOW 












